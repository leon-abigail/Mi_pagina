{% extends "base.html" %}

{% block title %}{{ producto.nombre }} | Peperina{% endblock %}

{% block content %}
<style>
/* Contenedor y tarjeta */
.ficha-wrap{max-width:1100px;margin:0 auto}
.volver-btn{
  display:inline-flex;align-items:center;gap:.45rem;
  background:#fff;border:1px solid rgba(0,0,0,.1);border-radius:999px;
  padding:.55rem .95rem;text-decoration:none;color:var(--verde-oscuro,#4F6A53);
  box-shadow:0 3px 10px rgba(0,0,0,.06)
}
.ficha{
  margin-top:1rem;background:#fff;border-radius:16px;
  box-shadow:0 8px 24px rgba(0,0,0,.06);
  display:grid;grid-template-columns: 1fr 1.2fr;gap:1.25rem;padding:1.25rem
}
/* Imagen */
.ficha-media{border-radius:14px;overflow:hidden;background:var(--blanco-hueso,#F4F3EE)}
.ficha-media .img{
  width:100%;height:100%;min-height:340px;object-fit:cover;display:block
}
.ficha-media .placeholder{
  min-height:340px;display:flex;align-items:center;justify-content:center;opacity:.6
}
/* Info */
.ficha-info h1{margin:.25rem 0 .5rem 0;color:var(--verde-oscuro,#4F6A53)}
.ficha-info p{margin:.25rem 0}
.precio{font-size:1.25rem;font-weight:800;margin-top:.25rem}
.meta{opacity:.85}

/* Responsive */
@media (max-width: 900px){
  .ficha{grid-template-columns:1fr}
  .ficha-media .img,.ficha-media .placeholder{min-height:260px}
}
</style>

<div class="ficha-wrap">
  <!-- Botón volver (a la página anterior si existe; si no, va a la lista) -->
  <a href="{% url 'lista_productos' %}" class="volver-btn" onclick="history.length>1 && history.back(); return false;">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true">
      <path d="M15 18l-6-6 6-6" stroke="currentColor" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    Volver
  </a>

  <section class="ficha">
    <!-- Columna imagen -->
    <div class="ficha-media">
      {% if producto.imagen %}
        <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" class="img">
      {% else %}
        <div class="placeholder">Sin imagen</div>
      {% endif %}
    </div>

    <!-- Columna info -->
    <div class="ficha-info">
      <h1>{{ producto.nombre }}</h1>

      {% if producto.precio %}
        <p class="precio">${{ producto.precio }}</p>
      {% endif %}

      {% if producto.categoria %}
        <p class="meta">Categoría: <strong>{{ producto.categoria.nombre }}</strong></p>
      {% endif %}

      {% if producto.marca %}
        <p class="meta">Marca: <strong>{{ producto.marca.nombre }}</strong></p>
      {% endif %}

      {% if producto.descripcion %}
        <div style="margin-top:.75rem;line-height:1.65">{{ producto.descripcion }}</div>
      {% endif %}
    </div>
  </section>
</div>
{% endblock %}
