{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Peperina - Bienvenidos</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;600&display=swap">
    <style>
        :root {
            --blanco-hueso: #F4F3EE;
            --verde-claro: #A3B18A;
            --verde-oscuro: #4F6A53;
            --texto-principal: #3D403A;
        }

        body, html {
            height: 120%;
            margin: 0;
            font-family: 'Montserrat', sans-serif;
            background-color: var(--blanco-hueso);
            color: var(--texto-principal);
            position: relative;
        }

        .page-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            position: relative;
            z-index: 1;
        }

        header {
            background-color: var(--verde-claro);
            padding: 20px;
            text-align: center;
        }

        main {
            flex: 1;
            padding: 40px 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            position: relative;
        }

        .contenido-principal {
            display: flex;
            align-items: center;
            gap: 50px;
            flex-wrap: wrap;
            text-align: left;
            z-index: 1;
        }

        .contenido-principal img.logo {
            height: 320px;
            flex-shrink: 0;
        }

        .texto-principal {
            max-width: 500px;
        }

        .texto-principal h1 {
            font-weight: 400;
            color: var(--verde-oscuro);
            font-size: 1.750em;
            margin: 0 0 10px 0;
        }

        .texto-principal p {
            font-size: 1.10em;
            margin: 0 0 20px 0;
        }

        .boton-ver-productos {
            display: inline-block;
            padding: 12px 20px;
            background-color: var(--verde-oscuro);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            font-weight: 600;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }

        .boton-ver-productos:hover {
            background-color: #3d5742;
        }

        .flores-derecha {
        position: fixed;
        bottom: 0;
        right: 0;
        width: 100px;
        height: auto;
        opacity: 0.85;
        z-index: 10;           /* ↑ más alto que el footer */
        pointer-events: none;
        }

        /* ===== Footer fijo con parallax visible ===== */
        footer#barra-inferior {
            position: fixed;
            left: 0;
            bottom: 0;
            width: 100%;
            background-color: var(--verde-claro);
            text-align: center;
            padding: 0;
            height: 100px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            z-index: 2;            /* ↓ más bajo que la flor */
            will-change: transform;
            transform: translateY(0);
            pointer-events: none;
        }

        /* Espaciador para que el footer fijo no tape contenido */
        .footer-spacer { height: 100px; }

        .instagram {
            margin-top: 5px;
            font-size: 0.9em;
            color: var(--verde-oscuro);
        }

    

        @media (max-width: 600px) {
            .contenido-principal {
                flex-direction: column;
                align-items: center;
                text-align: center;
            }

            .contenido-principal img.logo {
                margin-bottom: 20px;
            }

            .boton-ver-productos {
                margin-top: 15px;
            }

            .footer-spacer { height: 120px; } /* un poco más alto en mobile */
        }

        /* Respeta accesibilidad */
        @media (prefers-reduced-motion: reduce){
            footer#barra-inferior { transform: none !important; }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <header>
            <h2>♥ Bienvenidos a Peperina ♥</h2>
        </header>

        <main>
            <div class="contenido-principal">
                <img src="{% static 'images/logo_peperina.jpg' %}" alt="Logo Peperina" class="logo">
                <div class="texto-principal">
                    <h1>Un espacio de productos naturales pensados para tu bienestar.</h1>
                    <p> Té, blends, yerbas, sales saborizadas y mucho más.</p>
                    <a href="{% url 'lista_productos' %}" class="boton-ver-productos">Ver productos disponibles</a>
                </div>
            </div>
        </main>

        <!-- Espaciador para que el footer fijo no cubra el contenido -->
        <div class="footer-spacer"></div>
    </div>

    <!-- Footer fijo al fondo con movimiento -->
    <footer id="barra-inferior">
        <p>Hecho con el ♥ en Santiago del Estero</p>
        <div class="instagram">@peperina.natural</div>
    </footer>

    <img src="{% static 'images/flores.jpg' %}" alt="Flores decorativas" class="flores-derecha">

    <!-- Parallax claro (ajustá factor para más/menos movimiento) -->
    <script>
    (function(){
        const bar = document.getElementById('barra-inferior');
        if(!bar) return;

        // 0.25 se nota bien; probá 0.15 (más suave) o 0.35 (más marcado)
        const factor = 0.20;
        let ticking = false;

        function onScroll(){
            if(ticking) return;
            ticking = true;
            requestAnimationFrame(() => {
                const y = window.scrollY || window.pageYOffset || 0;
                // Mueve la barra en sentido opuesto al scroll (parallax)
                bar.style.transform = 'translateY(' + (y * factor * -1) + 'px)';
                ticking = false;
            });
        }

        onScroll();
        window.addEventListener('scroll', onScroll, { passive: true });
        window.addEventListener('resize', onScroll);
    })();
    </script>
</body>
</html>
