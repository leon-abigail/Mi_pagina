{% extends "base.html" %}

{% block title %}{{ producto.nombre }} | Peperina{% endblock %}

{% block content %}
<div class="contenedor" style="max-width:1000px;">
  <nav style="margin-bottom:1rem;">
    <a href="{% url 'lista_productos' %}">← Volver a Productos</a>
  </nav>

  <section style="display:grid; grid-template-columns: 1fr 1.2fr; gap:1.5rem;">
    <div style="background:#fff; border-radius:16px; padding:1rem; box-shadow:0 4px 16px rgba(0,0,0,.06);">
      <div style="aspect-ratio:4/3; border-radius:12px; overflow:hidden; background:#F4F3EE; display:flex; align-items:center; justify-content:center;">
        {% if producto.imagen %}
          <img src="{{ producto.imagen.url }}" alt="{{ producto.nombre }}" style="width:100%; height:100%; object-fit:cover;">
        {% else %}
          <span style="opacity:.6;">Sin imagen</span>
        {% endif %}
      </div>
    </div>

    <div style="display:flex; flex-direction:column; gap:.75rem;">
      <h1 style="margin:0;">{{ producto.nombre }}</h1>
      {% if producto.categoria %}<p style="margin:0; opacity:.8;">Categoría: {{ producto.categoria.nombre }}</p>{% endif %}
      {% if producto.marca %}<p style="margin:0; opacity:.8;">Marca: {{ producto.marca.nombre }}</p>{% endif %}

      {% if producto.precio %}
        <p style="font-size:1.25rem; font-weight:700; margin:.25rem 0;">${{ producto.precio }}</p>
      {% endif %}

      {% if producto.descripcion %}
        <div style="line-height:1.6;">{{ producto.descripcion }}</div>
      {% endif %}

      <div style="margin-top:1rem; display:flex; gap:.5rem; flex-wrap:wrap;">
        <a class="btn-secundario" href="{% url 'lista_productos' %}">Volver</a>
        {% if user.is_staff %}
          <a class="btn-primario" href="{% url 'agregar_producto' %}">+ Agregar otro</a>
        {% endif %}
      </div>
    </div>
  </section>
</div>
{% endblock %}
